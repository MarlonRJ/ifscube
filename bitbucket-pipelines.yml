# This is a sample build configuration for Python.
# Check our guides at https://confluence.atlassian.com/x/x4UWN for more examples.
# Only use spaces to indent your .yml configuration.
# -----
# You can specify a custom docker image from Docker Hub as your build environment.
image: python:3.5

pipelines:
  default:
    - step:
        caches:
          - pip
        script: # Modify the commands below to build your repository.
          - apt-get update && apt-get install -y --no-install-recommends gfortran 
          - pip install numpy vorbin ppxf
          - pip install .
          - cd ifscube/examples/
          - specfit --overwrite -c halpha_gauss.cfg manga_onedspec.fits 
          - cubefit --overwrite -c halpha_cube.cfg ngc3081_cube.fits
          # Temporarily removing this next two lines due to bug in ppxf.
          # - python voronoi_ppxf.py
          # - cubefit --overwrite -c halpha_cube.cfg ngc3081_cube.bin.fits
